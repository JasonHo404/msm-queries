<h1>Director #<%=@director_records.id%> Details</h1>

<a href="/directors">Go back</a>

<hr>

<dl>
  <dt>Name</dt>
  <dd><%=@director_records.name%></dd>

  <dt>DOB</dt>
  <dd><%=@director_records.dob%></dd>

  <dt>Bio</dt>
  <dd><%=@director_records.bio%></dd>

  <dt>Image</dt>
  <dd><img src="<%=@director_records.image%>" alt="<%=@director_records.name%> image" width="200"></dd>    

  <dt>Created at</dt>
  <dd><%=@director_records.created_at%></dd>

  <dt>Updated at</dt>
  <dd><%=@director_records.updated_at%></dd>

</dl>

<h1>Filmography</h1>


<% matching_movies = Movie.where({director_id: @director_records.id})%>

<table border = '1'>
  <tr>
    <th>ID</th>
    <th>Image</th>
    <th>Title</th>
    <th>Year</th>
    <th>Director</th>
    <th>More information</th> 
  </tr>
  <% matching_movies.each do |i| %>
    <tr>
      <td><%=i.id%></td>
      <td><img src="<%=i.image%>" alt="<%=i.image%>" width='100'></td>
      <td><%=i.title%></td>
      <td><%=i.year%></td>
      <td><%=@director_records.name%></td>
      <td><a href="/movies/<%=i.id%>"> Show Details </a></td>
    </tr>
  <% end %>
</table>
